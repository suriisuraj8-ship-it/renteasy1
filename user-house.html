<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Available Shops | Chat Point</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    :root {
      --bg:#07070a; --card:#0f1724; --muted:#a8b3c2;
      --accent:#ff7b00; --green:#22c55e; --radius:14px;
    }
    * {box-sizing:border-box;}
    body {
      margin:0; font-family:"Poppins",sans-serif;
      background:linear-gradient(180deg,#071226,var(--bg));
      color:#fff; min-height:100vh; display:flex; flex-direction:column;
      overflow-x:hidden;
    }
    header {
      display:flex; justify-content:space-between; align-items:center;
      padding:12px 16px; background:rgba(255,255,255,0.02);
      backdrop-filter:blur(6px); border-bottom:1px solid rgba(255,255,255,0.03);
      position:sticky; top:0; z-index:100;
    }
    .brand { font-weight:700; font-size:18px; }
    .brand .chat { color:var(--accent); }
    .brand .point { color:#fff; }
    .nav-btn { font-size:18px; cursor:pointer; }
    .sidebar {
      position:fixed; top:0; left:-250px; width:250px; height:100%;
      background:var(--card); padding:20px; display:flex; flex-direction:column;
      gap:16px; transition:0.3s ease; z-index:110;
      box-shadow:2px 0 10px rgba(0,0,0,0.7);
    }
    .sidebar.active { left:0; }
    .sidebar a { color:#fff; text-decoration:none; font-weight:600; font-size:16px; }
    .sidebar .contact { color:var(--accent); }
    .overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.4); display:none; z-index:105; }
    .overlay.active { display:block; }

    .promo { padding:14px; display:flex; justify-content:center; }
    .promo-slider {
      width:95%; max-width:1100px; height:220px;
      border-radius:14px; overflow:hidden;
      background:#000; box-shadow:0 8px 30px rgba(2,6,23,0.6);
      position:relative; border:1px solid rgba(255,255,255,0.03);
    }
    .promo-slider img { width:100%; height:100%; object-fit:cover; display:none; }
    .promo-slider img.active { display:block; }
    .promo-slider .dots {
      position:absolute; bottom:8px; left:50%; transform:translateX(-50%);
      display:flex; gap:6px;
    }
    .promo-slider .dot {
      width:8px;height:8px;border-radius:50%;
      background:rgba(255,255,255,0.35); cursor:pointer;
    }
    .promo-slider .dot.active { background:var(--accent); }

    main { padding:14px; flex:1; }
    .search-bar { width:100%; max-width:400px; margin:0 auto 16px; display:flex; }
    .search-bar input {
      flex:1; padding:10px 12px; border-radius:8px 0 0 8px; border:none;
      outline:none; font-size:14px;
    }
    .search-bar button {
      padding:10px 12px; background:var(--accent); border:none; border-radius:0 8px 8px 0;
      cursor:pointer; color:#fff; font-weight:600;
    }
    .grid {
      display:grid;
      grid-template-columns: repeat(auto-fill,minmax(300px,1fr));
      gap:18px;
    }
    .card {
      background: rgba(255,255,255,0.02);
      border-radius:var(--radius);
      overflow:hidden;
      box-shadow:0 8px 20px rgba(2,6,23,0.6);
      cursor:pointer;
      transition:transform .2s ease;
      display:flex; flex-direction:column;
    }
    .card:hover { transform:translateY(-5px); }
    .card img { width:100%; height:180px; object-fit:cover; }
    .info { padding:10px 12px; display:flex; justify-content:space-between; align-items:center; }
    .shop-name { font-weight:700; color:var(--accent); font-size:16px; }
    .rating { color:var(--green); font-weight:600; font-size:14px; }
    .desc { font-size:13px; color:var(--muted); margin:4px 12px 10px; }
    footer { text-align:center; padding:12px; color:#999; font-size:13px; }

    .placeholder { text-align:center; color:var(--muted); padding:40px; }
  </style>
</head>
<body>
  <header>
    <div class="nav-btn" id="navBtn"><i class="fa fa-bars"></i></div>
    <div class="brand"><span class="chat">Chat</span><span class="point">Point</span></div>
  </header>

  <div class="sidebar" id="sidebar">
    <a href="#" id="logout">Logout</a>
    <a href="#" id="myOrders">My Orders</a>
    <a href="tel:8088975913" class="contact">Contact: 8088975913</a>
  </div>
  <div class="overlay" id="overlay"></div>

  <div class="promo">
    <div class="promo-slider" id="promoSlider">
      <img src="https://images.unsplash.com/photo-1600891964599-f61ba0e24092?q=80&w=1600&auto=format&fit=crop" class="active" alt="promo1" />
      <img src="https://images.unsplash.com/photo-1544025162-d76694265947?q=80&w=1600&auto=format&fit=crop" alt="promo2" />
      <img src="https://images.unsplash.com/photo-1546069901-eacef0df6022?q=80&w=1600&auto=format&fit=crop" alt="promo3" />
      <div class="dots" id="promoDots"></div>
    </div>
  </div>

  <main>
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search shop name...">
      <button onclick="searchShops()">Search</button>
    </div>
    <div id="grid" class="grid">
      <div class="placeholder">Loading shops...</div>
    </div>
  </main>

  <footer>Â© 2025 Chat Point</footer>

  <script>
    // Sidebar toggle
    const navBtn = document.getElementById("navBtn");
    const sidebar = document.getElementById("sidebar");
    const overlay = document.getElementById("overlay");
    navBtn.onclick = () => { sidebar.classList.add("active"); overlay.classList.add("active"); };
    overlay.onclick = () => { sidebar.classList.remove("active"); overlay.classList.remove("active"); };

    document.getElementById("logout").onclick = () => { alert("Logged out"); location.href="login.html"; };

    // Promo slider
    (function promoInit(){
      const slider = document.getElementById("promoSlider");
      const imgs = Array.from(slider.querySelectorAll("img"));
      const dotsWrap = document.getElementById("promoDots");
      imgs.forEach((_,i)=>{
        const d=document.createElement("div");
        d.className="dot"; if(i===0) d.classList.add("active");
        d.onclick=()=>{ imgs.forEach(im=>im.classList.remove("active")); imgs[i].classList.add("active");
          dotsWrap.querySelectorAll(".dot").forEach(dd=>dd.classList.remove("active")); d.classList.add("active"); };
        dotsWrap.appendChild(d);
      });
      let idx=0;
      setInterval(()=>{ idx=(idx+1)%imgs.length;
        imgs.forEach(im=>im.classList.remove("active")); imgs[idx].classList.add("active");
        const dots=dotsWrap.querySelectorAll(".dot");
        dots.forEach(dd=>dd.classList.remove("active")); dots[idx].classList.add("active");
      },5000);
    })();

    // Shops list
    let shops = [
      { shopName:"Fly Pizza", description:"Best pizzas in town", rating:4.9 },
      { shopName:"Ayyngar", description:"Authentic South Indian food", rating:4.6 },
      { shopName:"Mister Shef", description:"Delicious meals", rating:4.7 },
      { shopName:"Udapi Hotel - Sangambar", description:"Traditional cuisine", rating:4.5 },
      { shopName:"Dolphin", description:"Fresh seafood & more", rating:4.4 },
      { shopName:"Pizza Point", description:"Tasty pizzas and more", rating:4.8 },
      { shopName:"7 Wonder", description:"Fast food & snacks", rating:4.6 },
      { shopName:"Star Hotel", description:"Great ambience & food", rating:4.7 },
    ];

    function shuffle(array){ for(let i=array.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [array[i],array[j]]=[array[j],array[i]];} return array;}

    function renderShops(list){
      const grid = document.getElementById("grid");
      grid.innerHTML="";
      list.forEach(shop=>{
        const card=document.createElement("div");
        card.className="card";
        card.innerHTML=`
          <img src="https://via.placeholder.com/400x180" alt="${shop.shopName}">
          <div class="info">
            <div class="shop-name">${shop.shopName}</div>
            <div class="rating"><i class="fa fa-star"></i> ${shop.rating}</div>
          </div>
          <div class="desc">${shop.description}</div>
        `;
        card.onclick = ()=>{ window.location.href=`items.html?shopName=${encodeURIComponent(shop.shopName)}`; };
        grid.appendChild(card);
      });
    }

    function searchShops(){
      const val = document.getElementById("searchInput").value.toLowerCase();
      const filtered = shops.filter(s=>s.shopName.toLowerCase().includes(val));
      renderShops(filtered.length?filtered:shops);
    }

    // Shuffle shops for randomness
    renderShops(shuffle(shops));
  </script>
</body>
</html>
